2023-03-09 23:33:09,773 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:38:48,062 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:40:44,430 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-09 23:40:50,353 django.request WARNING  Not Found: /favicon.ico
2023-03-10 23:41:16,645 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:41:23,645 django.request WARNING  Not Found: /favicon.ico
2023-03-10 23:41:31,124 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 90, in contact
    form = ContactForm()
NameError: name 'ContactForm' is not defined
2023-03-10 23:42:01,162 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-10 23:42:01,781 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:42:02,226 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 104, in contact
    return render(request, 'email.html', {'form': form})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: email.html
2023-03-10 23:42:38,789 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 104, in contact
    return render(request, 'users/email.html', {'form': form})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: email.html
2023-03-10 23:42:39,262 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-10 23:42:39,852 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-10 23:45:53,775 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\users\views.py", line 98, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'send_mail' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    except BadHeaderError:
NameError: name 'BadHeaderError' is not defined
2023-03-11 00:00:23,428 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:00:30,903 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'DEFAULT_FROM_EMAIL' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 100, in contact
    except BadHeaderError:
NameError: name 'BadHeaderError' is not defined
2023-03-11 00:05:16,152 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:05:16,755 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:05:29,439 django.request ERROR    Internal Server Error: /users/contact/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 99, in contact
    send_mail(f'{subject} от {from_email}', message, DEFAULT_FROM_EMAIL, RECIPIENTS_EMAIL)
NameError: name 'DEFAULT_FROM_EMAIL' is not defined
2023-03-11 00:06:16,411 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:06:17,012 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 00:06:51,462 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-11 00:06:52,045 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 23:06:51,810 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-11 23:07:11,107 django.request WARNING  Not Found: /
2023-03-11 23:07:12,211 django.request WARNING  Not Found: /favicon.ico
2023-03-12 19:38:20,988 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-12 19:38:34,494 django.request WARNING  Not Found: /favicon.ico
2023-03-14 23:05:41,229 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-14 23:05:51,489 django.request WARNING  Not Found: /
2023-03-14 23:05:52,135 django.request WARNING  Not Found: /favicon.ico
2023-03-16 21:06:41,713 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-16 21:06:45,027 django.request WARNING  Not Found: /
2023-03-16 21:06:45,393 django.request WARNING  Not Found: /favicon.ico
2023-03-16 21:09:27,504 PIL.Image    DEBUG    Importing BlpImagePlugin
2023-03-16 21:09:27,505 PIL.Image    DEBUG    Importing BmpImagePlugin
2023-03-16 21:09:27,511 PIL.Image    DEBUG    Importing BufrStubImagePlugin
2023-03-16 21:09:27,522 PIL.Image    DEBUG    Importing CurImagePlugin
2023-03-16 21:09:27,530 PIL.Image    DEBUG    Importing DcxImagePlugin
2023-03-16 21:09:27,534 PIL.Image    DEBUG    Importing DdsImagePlugin
2023-03-16 21:09:27,535 PIL.Image    DEBUG    Importing EpsImagePlugin
2023-03-16 21:09:27,546 PIL.Image    DEBUG    Importing FitsImagePlugin
2023-03-16 21:09:27,547 PIL.Image    DEBUG    Importing FitsStubImagePlugin
2023-03-16 21:09:27,564 PIL.Image    DEBUG    Importing FliImagePlugin
2023-03-16 21:09:27,565 PIL.Image    DEBUG    Importing FpxImagePlugin
2023-03-16 21:09:27,566 PIL.Image    DEBUG    Image: failed to import FpxImagePlugin: No module named 'olefile'
2023-03-16 21:09:27,567 PIL.Image    DEBUG    Importing FtexImagePlugin
2023-03-16 21:09:27,568 PIL.Image    DEBUG    Importing GbrImagePlugin
2023-03-16 21:09:27,569 PIL.Image    DEBUG    Importing GifImagePlugin
2023-03-16 21:09:27,569 PIL.Image    DEBUG    Importing GribStubImagePlugin
2023-03-16 21:09:27,570 PIL.Image    DEBUG    Importing Hdf5StubImagePlugin
2023-03-16 21:09:27,570 PIL.Image    DEBUG    Importing IcnsImagePlugin
2023-03-16 21:09:27,592 PIL.Image    DEBUG    Importing IcoImagePlugin
2023-03-16 21:09:27,598 PIL.Image    DEBUG    Importing ImImagePlugin
2023-03-16 21:09:27,599 PIL.Image    DEBUG    Importing ImtImagePlugin
2023-03-16 21:09:27,600 PIL.Image    DEBUG    Importing IptcImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing JpegImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing Jpeg2KImagePlugin
2023-03-16 21:09:27,601 PIL.Image    DEBUG    Importing McIdasImagePlugin
2023-03-16 21:09:27,603 PIL.Image    DEBUG    Importing MicImagePlugin
2023-03-16 21:09:27,604 PIL.Image    DEBUG    Image: failed to import MicImagePlugin: No module named 'olefile'
2023-03-16 21:09:27,604 PIL.Image    DEBUG    Importing MpegImagePlugin
2023-03-16 21:09:27,605 PIL.Image    DEBUG    Importing MpoImagePlugin
2023-03-16 21:09:27,606 PIL.Image    DEBUG    Importing MspImagePlugin
2023-03-16 21:09:27,606 PIL.Image    DEBUG    Importing PalmImagePlugin
2023-03-16 21:09:27,609 PIL.Image    DEBUG    Importing PcdImagePlugin
2023-03-16 21:09:27,610 PIL.Image    DEBUG    Importing PcxImagePlugin
2023-03-16 21:09:27,610 PIL.Image    DEBUG    Importing PdfImagePlugin
2023-03-16 21:09:27,615 PIL.Image    DEBUG    Importing PixarImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PngImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PpmImagePlugin
2023-03-16 21:09:27,616 PIL.Image    DEBUG    Importing PsdImagePlugin
2023-03-16 21:09:27,617 PIL.Image    DEBUG    Importing SgiImagePlugin
2023-03-16 21:09:27,618 PIL.Image    DEBUG    Importing SpiderImagePlugin
2023-03-16 21:09:27,619 PIL.Image    DEBUG    Importing SunImagePlugin
2023-03-16 21:09:27,620 PIL.Image    DEBUG    Importing TgaImagePlugin
2023-03-16 21:09:27,621 PIL.Image    DEBUG    Importing TiffImagePlugin
2023-03-16 21:09:27,621 PIL.Image    DEBUG    Importing WebPImagePlugin
2023-03-16 21:09:27,663 PIL.Image    DEBUG    Importing WmfImagePlugin
2023-03-16 21:09:27,664 PIL.Image    DEBUG    Importing XbmImagePlugin
2023-03-16 21:09:27,665 PIL.Image    DEBUG    Importing XpmImagePlugin
2023-03-16 21:09:27,666 PIL.Image    DEBUG    Importing XVThumbImagePlugin
2023-03-21 21:43:26,895 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:43:32,019 django.request WARNING  Not Found: /
2023-03-21 21:43:32,402 django.request WARNING  Not Found: /favicon.ico
2023-03-21 21:51:56,473 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-21 21:51:56,973 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:52:18,645 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 21:52:19,129 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:55:37,306 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 21:55:41,341 django.request WARNING  Not Found: /
2023-03-21 21:55:50,506 django.request ERROR    Internal Server Error: /admin/films/film/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2069, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^

2023-03-21 21:56:22,181 django.request ERROR    Internal Server Error: /films/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 92, in rendered_content
    return template.render(context, self._request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 157, in render
    return compiled_parent._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 194, in render
    len_values = len(values)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец Film.by_subscription не существует
LINE 1: SELECT "Film"."id", "Film"."by_subscription", "Film"."image"...
                            ^

2023-03-21 22:24:42,814 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 22:24:43,548 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 22:26:15,371 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-03-21 22:26:15,893 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-21 22:28:21,644 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-03-21 22:28:22,160 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 19:12:34,185 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 19:41:26,632 django.request WARNING  Not Found: /favicon.ico
2023-03-22 19:50:32,901 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 90, in rendered_content
    template = self.resolve_template(self.template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 72, in resolve_template
    return select_template(template, using=self.using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 42, in select_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '} film.name' from '} film.name'
2023-03-22 19:51:56,095 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 19:51:56,780 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:05:07,561 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:05:08,149 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:06:33,251 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:06:33,810 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:08:18,841 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:08:19,332 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:08:42,284 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:08:42,821 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:09:35,822 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 20:09:36,326 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:35:01,860 django.request WARNING  Not Found: /favicon.ico
2023-03-22 20:56:20,354 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 20:56:21,037 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 20:57:54,958 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 20:57:55,507 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 21:00:23,183 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-22 21:00:23,732 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 21:00:24,112 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/subscribe.html')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: users/subscribe.html
2023-03-22 22:37:33,986 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\models.py changed, reloading.
2023-03-22 22:37:34,703 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 22:39:14,661 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 22:46:30,830 django.request ERROR    Internal Server Error: /films/1/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 179, in translate_token
    op = OPERATORS[token]
KeyError: '{{'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 220, in _get_response
    response = response.render()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 90, in rendered_content
    template = self.resolve_template(self.template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\response.py", line 72, in resolve_template
    return select_template(template, using=self.using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 42, in select_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 952, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 885, in __init__
    super().__init__(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 170, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\smartif.py", line 181, in translate_token
    return self.create_var(token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 888, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
2023-03-22 22:51:38,459 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 22:51:39,039 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:14:16,745 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:14:17,246 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:15:53,372 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:15:53,879 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:17:10,384 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:17:10,907 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:17:31,659 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:17:32,184 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:18:52,013 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\urls.py changed, reloading.
2023-03-22 23:18:52,568 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:19:07,415 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\urls.py changed, reloading.
2023-03-22 23:19:07,935 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:19:30,992 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:19:31,534 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:20:51,564 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:20:52,112 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:22:28,631 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:22:29,150 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:24:18,653 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:26:35,547 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\migrations\0003_alter_film_by_subscription_alter_film_country.py changed, reloading.
2023-03-22 23:26:36,043 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:27:11,583 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:36:48,997 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:36:49,546 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-22 23:37:10,285 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-03-22 23:37:10,801 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-24 21:37:21,073 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 21:58:50,998 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 21:59:10,906 django.request WARNING  Not Found: /
2023-03-30 21:59:11,217 django.request WARNING  Not Found: /favicon.ico
2023-03-30 21:59:17,463 django.request WARNING  Not Found: /films/test
2023-03-30 22:03:55,132 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:03:55,699 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:05:03,241 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-30 22:05:03,764 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:05:41,232 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\urls.py changed, reloading.
2023-03-30 22:05:41,762 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:06:18,208 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:06:18,719 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:07:36,573 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:07:37,112 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:08:21,752 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-30 22:08:22,318 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:08:22,601 django.request WARNING  Not Found: /users/test
2023-03-30 22:15:04,127 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/test.html', {'subscribe': subscribe})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: ' date' from 'el date'
2023-03-30 22:15:11,271 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 505, in parse
    compile_func = self.tags[command]
KeyError: 'enfor'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 91, in subscribe
    return render(request, 'users/test.html', {'subscribe': subscribe})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 507, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 558, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 14: 'enfor', expected 'empty' or 'endfor'. Did you forget to register or load this tag?
2023-03-30 22:24:45,025 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-30 22:25:41,727 django.request WARNING  Not Found: /favicon.ico
2023-03-30 22:44:05,900 django.request WARNING  Not Found: /users
2023-03-31 00:05:47,903 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 00:05:52,291 django.request WARNING  Not Found: /
2023-03-31 00:05:57,464 django.request WARNING  Not Found: /main/main/js/main.js
2023-03-31 00:06:34,821 django.request WARNING  Not Found: /main/main/js/main.js
2023-03-31 00:09:27,224 django.request WARNING  Not Found: /main/js/main.js
2023-03-31 22:44:29,964 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 22:44:38,035 django.request WARNING  Not Found: /
2023-03-31 22:44:38,650 django.request WARNING  Not Found: /favicon.ico
2023-03-31 22:54:33,200 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-03-31 22:54:33,802 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 23:57:18,431 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-03-31 23:57:22,142 django.request WARNING  Not Found: /
2023-04-01 22:08:46,564 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:08:53,596 django.request ERROR    Internal Server Error: /
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:53,966 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:57,463 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:08:58,057 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:11:23,754 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:11:24,192 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:18,039 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:13:18,151 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:13:50,142 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:13:56,039 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:56,461 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:57,997 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:13:58,216 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:14:26,218 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:14:26,280 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:15:23,078 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:15:28,696 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:29,133 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:31,080 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:31,297 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:15:37,994 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:15:38,058 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:16:57,168 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:17:00,671 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:00,899 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:27,770 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:27,829 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:36,030 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:17:37,504 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:37,713 django.request ERROR    Internal Server Error: /favicon.ico
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\middleware.py", line 55, in __call__
    panel.enable_instrumentation()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\cache.py", line 206, in enable_instrumentation
    for cache in caches.all(initialized_only=True):
TypeError: all() got an unexpected keyword argument 'initialized_only'
2023-04-01 22:17:48,793 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:17:48,850 asyncio      DEBUG    Using proactor: IocpProactor
2023-04-01 22:19:16,132 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:19:19,958 django.request WARNING  Not Found: /favicon.ico
2023-04-01 22:19:47,405 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:29:34,693 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:29:35,255 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:31:13,101 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:31:13,707 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:31:34,728 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:31:35,292 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:35:28,677 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:35:29,249 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:37:45,323 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:37:45,893 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:37:46,425 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    check = (date_now - el.date)
TypeError: unsupported operand type(s) for -: 'datetime.date' and 'datetime.datetime'
2023-04-01 22:38:39,961 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:38:40,535 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:39:39,255 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    check = (date_now - date)
TypeError: unsupported operand type(s) for -: 'datetime.date' and 'datetime.datetime'
2023-04-01 22:39:39,867 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:39:40,426 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:39:41,261 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    date = datetime.date(el.date)
TypeError: an integer is required (got type datetime.datetime)
2023-04-01 22:41:31,240 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    year = el.date.year
TypeError: an integer is required (got type datetime.datetime)
2023-04-01 22:41:31,440 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:41:32,061 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:42:32,526 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 22:42:33,075 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:48:17,401 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 22:51:10,483 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 22:51:19,223 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^

2023-04-01 22:58:17,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 22:58:17,854 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:06:17,715 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:06:27,442 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "Subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "Subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "Subscription"
                                          ^

2023-04-01 23:07:02,694 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-01 23:07:03,214 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:07:39,745 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:07:42,332 django.request ERROR    Internal Server Error: /admin/users/subscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedTable: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 1932, in changelist_view
    cl = self.get_changelist_instance(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 834, in get_changelist_instance
    return ChangeList(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 123, in __init__
    self.get_results(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\views\main.py", line 279, in get_results
    result_count = paginator.count
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\paginator.py", line 96, in count
    return c()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 621, in count
    return self.query.get_count(using=self.db)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 559, in get_count
    return obj.get_aggregation(using, ["__count"])["__count"]
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 544, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  отношение "users_subscription" не существует
LINE 1: SELECT COUNT(*) AS "__count" FROM "users_subscription"
                                          ^

2023-04-01 23:09:24,875 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:13:37,188 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 23:13:37,750 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:21:43,730 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:21:44,351 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:11,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:24:12,501 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:35,495 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:24:36,039 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:24:37,562 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 26, in film
    user = CustomUser.objects.get(user=request.user)
NameError: name 'CustomUser' is not defined
2023-04-01 23:27:16,834 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:27:17,421 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:27:17,832 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:28:14,281 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(email=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:28:14,612 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:28:15,215 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:28:36,160 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:28:36,668 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:29:51,490 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user.email=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: email, id, is_staff, last_login, logentry, password, phone, profile, subscription, username
2023-04-01 23:29:51,638 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:29:52,246 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:30:10,985 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:30:11,509 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:33:11,765 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:33:12,310 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:36:23,021 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:36:23,576 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:36:24,032 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:01,636 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:02,130 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:37:02,715 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:37:19,223 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:43,308 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 27, in film
    user = CustomUser.objects.get(user_id=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 636, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
TypeError: 'CustomUser' object is not iterable
2023-04-01 23:37:43,413 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:37:44,021 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:40:44,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:40:44,818 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:41:08,818 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:41:09,359 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:41:37,568 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:41:38,107 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:50:42,689 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-01 23:50:43,233 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:50:43,790 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-01 23:52:25,218 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/login/
2023-04-01 23:56:13,578 django.request ERROR    Internal Server Error: /users/register/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 28, in register
    return redirect('profile', user.id)
NameError: name 'user' is not defined
2023-04-01 23:57:51,214 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-01 23:57:51,838 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-01 23:57:52,085 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/register/
2023-04-01 23:58:52,177 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-02 00:08:54,341 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:08:54,908 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:10:19,047 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:10:19,617 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:10:20,203 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 36, in film
    date = datetime.date(sub.date)
TypeError: an integer is required (got type datetime.date)
2023-04-02 00:11:51,318 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 36, in film
    year = sub.date.year
TypeError: an integer is required (got type datetime.date)
2023-04-02 00:11:52,037 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:11:52,581 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:12:09,221 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:12:09,789 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:12:10,119 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
ValueError: The view films.views.film didn't return an HttpResponse object. It returned None instead.
2023-04-02 00:13:04,436 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    self.check_response(response, callback)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 332, in check_response
    raise ValueError(
ValueError: The view films.views.film didn't return an HttpResponse object. It returned None instead.
2023-04-02 00:13:04,880 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:13:05,452 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:15:34,975 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:15:35,543 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:17:16,249 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:17:16,824 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:18:14,992 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-02 00:18:15,538 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-02 00:19:11,672 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:26:10,532 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:26:21,492 django.request WARNING  Not Found: /
2023-04-04 21:26:21,786 django.request WARNING  Not Found: /favicon.ico
2023-04-04 21:27:08,674 django.request WARNING  Not Found: /
2023-04-04 21:27:15,587 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:27:20,947 django.request ERROR    Internal Server Error: /films/4/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:28:39,336 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:28:39,949 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:28:40,410 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:28:43,503 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 29, in film
    sub = Subscription.objects.get(user=request.user)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 650, in get
    raise self.model.DoesNotExist(
users.models.Subscription.DoesNotExist: Subscription matching query does not exist.
2023-04-04 21:34:50,036 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:34:50,606 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:41:41,960 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:41:42,586 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:46:02,963 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-04 21:46:03,504 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 21:53:43,966 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-04 21:53:44,520 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 22:00:07,890 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-04 22:00:08,473 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-04 22:09:04,598 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:26:14,833 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:26:16,997 django.request WARNING  Not Found: /
2023-04-05 23:26:17,391 django.request WARNING  Not Found: /favicon.ico
2023-04-05 23:29:28,005 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-05 23:29:28,590 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-05 23:31:35,178 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-05 23:31:35,735 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:17:15,360 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:17:18,996 django.request WARNING  Not Found: /
2023-04-06 21:17:19,380 django.request WARNING  Not Found: /favicon.ico
2023-04-06 21:30:53,791 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 21:30:54,480 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:32:19,420 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 21:32:19,984 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:40:42,069 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 21:40:42,604 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:40:45,221 django.request WARNING  Not Found: /
2023-04-06 21:40:55,733 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    form = SubscribeForm()
NameError: name 'SubscribeForm' is not defined
2023-04-06 21:41:51,117 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 94, in subscribe
    form = SubscribeForm()
NameError: name 'SubscribeForm' is not defined
2023-04-06 21:41:51,281 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 21:41:51,943 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:42:46,062 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 21:42:46,604 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 21:47:58,356 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:33:34,283 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:33:34,821 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:35:16,611 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:35:17,143 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:35:57,767 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 22:35:58,293 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:40:42,112 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:40:42,633 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:43:35,525 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:43:40,678 django.request ERROR    Internal Server Error: /admin/users/usersubscription/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UndefinedColumn: ОШИБКА:  столбец user_subscription.subscription_id не существует
LINE 1: ...ubscription"."id", "user_subscription"."user_id", "user_subs...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 686, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\sites.py", line 242, in inner
    return view(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\utils\decorators.py", line 134, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\contrib\admin\options.py", line 2069, in changelist_view
    "selection_note": _("0 of %(cnt)s selected") % {"cnt": len(cl.result_list)},
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 376, in __len__
    self._fetch_all()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1867, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1398, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ОШИБКА:  столбец user_subscription.subscription_id не существует
LINE 1: ...ubscription"."id", "user_subscription"."user_id", "user_subs...
                                                             ^

2023-04-06 22:44:30,816 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:44:31,360 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:44:52,484 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\models.py changed, reloading.
2023-04-06 22:44:53,031 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:46:00,456 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:47:20,708 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:47:21,295 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:49:48,614 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:49:49,178 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:50:28,460 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:51:20,899 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:51:54,307 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 22:51:54,853 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 22:56:28,126 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:01:09,314 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:01:09,871 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:03:13,177 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:03:19,610 django.security.csrf WARNING  Forbidden (CSRF token from POST incorrect.): /users/subscribe
2023-04-06 23:05:39,882 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:05:40,457 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:06:32,599 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:09:00,718 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:09:01,301 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:10:55,597 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:10:56,163 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:11:26,522 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:11:27,073 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:12:26,209 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:12:38,735 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:12:39,253 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:15:25,142 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:16:37,892 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:16:38,465 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:16:51,129 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:16:51,675 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:22,972 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:23,540 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:51,729 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:52,275 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:17:58,591 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:17:59,105 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:22:22,656 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:22:23,218 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:23:51,225 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-06 23:23:51,769 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:38:39,268 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:46:03,980 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:46:04,556 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:46:09,761 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 102, in test
    sub = UserSubscription.objects.values('subscription__name')
NameError: name 'UserSubscription' is not defined
2023-04-06 23:46:41,064 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:46:41,595 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:48:45,018 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:48:45,543 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:18,944 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:49:19,495 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:20,007 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:49:30,036 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:49:30,633 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:49:31,060 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription__name')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:49:55,252 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 103, in test
    sub = UserSubscription.objects.filter('subscription__name')
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1421, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1439, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1446, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\query.py", line 1404, in build_filter
    arg, value = filter_expr
ValueError: too many values to unpack (expected 2)
2023-04-06 23:52:37,216 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:52:37,774 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-06 23:53:59,948 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-06 23:54:00,556 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:15:54,033 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:16:09,937 django.request WARNING  Not Found: /favicon.ico
2023-04-07 22:16:11,407 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 484, in parse
    raise self.error(token, e)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 482, in parse
    filter_expression = self.compile_filter(token.contents)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: ' e' from 'el.subscription__nam e'
2023-04-07 22:22:34,587 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 193, in render
    values = list(values)
TypeError: 'Subscription' object is not iterable
2023-04-07 22:22:36,537 django.request ERROR    Internal Server Error: /users/test/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 105, in test
    return render(request, 'users/test.html', {'sub': sub})
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 175, in render
    return self._render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\test\utils.py", line 111, in instrumented_test_render
    return self.nodelist.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\base.py", line 966, in render_annotated
    return self.render(context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\template\defaulttags.py", line 193, in render
    values = list(values)
TypeError: 'Subscription' object is not iterable
2023-04-07 22:25:01,341 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-07 22:25:01,932 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:30:05,480 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\views.py changed, reloading.
2023-04-07 22:30:06,042 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:35:10,237 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:35:10,758 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:35:32,714 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:35:33,275 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:36:01,339 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:36:38,997 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:36:39,534 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:37:30,389 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:37:30,919 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:42:08,335 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\forms.py changed, reloading.
2023-04-07 22:42:08,897 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 22:54:49,976 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 812, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 863, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1006, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1047, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1791, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1660, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-04-07 23:02:57,260 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:02:57,856 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:06:13,886 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:06:14,428 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:07:35,542 django.utils.autoreload INFO     D:\Projects\kinopoisk\users\admin.py changed, reloading.
2023-04-07 23:07:36,123 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:09:17,151 django.request ERROR    Internal Server Error: /users/subscribe
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\users\views.py", line 95, in subscribe
    form.save()
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 812, in save
    self.save_base(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 863, in save_base
    updated = self._save_table(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1006, in _save_table
    results = self._do_insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\base.py", line 1047, in _do_insert
    return manager._insert(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\query.py", line 1791, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\models\sql\compiler.py", line 1660, in execute_sql
    cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 230, in execute
    return self._record(self.cursor.execute, sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\debug_toolbar\panels\sql\tracking.py", line 154, in _record
    return method(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "user_subscription_user_id_key"
DETAIL:  Ключ "(user_id)=(1)" уже существует.

2023-04-07 23:14:56,630 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:14:57,203 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:15:05,560 django.request ERROR    Internal Server Error: /films/5/
Traceback (most recent call last):
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
  File "D:\Projects\kinopoisk\.venv\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\Projects\kinopoisk\films\views.py", line 28, in film
    subscription = Subscription.objects.get(name='"Кино Плюс"')
NameError: name 'Subscription' is not defined
2023-04-07 23:15:52,552 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:15:53,114 django.utils.autoreload INFO     Watching for file changes with StatReloader
2023-04-07 23:17:18,423 django.utils.autoreload INFO     D:\Projects\kinopoisk\films\views.py changed, reloading.
2023-04-07 23:17:18,976 django.utils.autoreload INFO     Watching for file changes with StatReloader
